{"ast":null,"code":"import _toConsumableArray from\"/Users/bogdanbilovodskyi/Desktop/programming/frontend/todo-react-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/bogdanbilovodskyi/Desktop/programming/frontend/todo-react-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/bogdanbilovodskyi/Desktop/programming/frontend/todo-react-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import List from'./List';import Alert from'./Alert';import Filter from'./Filter';import shrug from'./icons/shrug.png';var getLocalStorage=function getLocalStorage(){var list=localStorage.getItem('list');if(list){return JSON.parse(localStorage.getItem('list'));}else{return[];}};function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(getLocalStorage()),_useState4=_slicedToArray(_useState3,2),list=_useState4[0],setList=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditing=_useState6[0],setIsEditing=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),editId=_useState8[0],setEditId=_useState8[1];var _useState9=useState({show:false,msg:'',type:''}),_useState10=_slicedToArray(_useState9,2),alert=_useState10[0],setAlert=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),isActive=_useState12[0],setIsActive=_useState12[1];var _useState13=useState(list),_useState14=_slicedToArray(_useState13,2),filteredList=_useState14[0],setFilteredList=_useState14[1];var _useState15=useState('all'),_useState16=_slicedToArray(_useState15,2),btnState=_useState16[0],setBtnState=_useState16[1];var handleSubmit=function handleSubmit(e){e.preventDefault();if(!name){showAlert(true,'Please enter value','red');}else if(name&&isEditing){setList(list.map(function(item){if(item.id===editId){return _objectSpread(_objectSpread({},item),{},{title:name});}return item;}));setName('');setEditId(null);setIsEditing(false);showAlert(true,'Item edited','green');}else{showAlert(true,'New item added','green');var newItem={id:new Date().getTime().toString(),title:name,status:'pending'};setList([].concat(_toConsumableArray(list),[newItem]));setName('');}};var showAlert=function showAlert(){var show=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var msg=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';setAlert({show:show,msg:msg,type:type});};var updateStatus=function updateStatus(id){setList(list.map(function(item){if(item.id===id&&item.status==='pending'){return _objectSpread(_objectSpread({},item),{},{status:'completed'});}else if(item.id===id&&item.status==='completed'){return _objectSpread(_objectSpread({},item),{},{status:'pending'});}return item;}));};var clearList=function clearList(){showAlert(true,'Empty list','red');setList([]);};var removeItem=function removeItem(id){showAlert(true,'Item removed','red');setList(list.filter(function(item){return item.id!==id;}));};var editItem=function editItem(id){var specificItem=list.find(function(item){return item.id===id;});setIsEditing(true);setEditId(id);setName(specificItem.title);};var showMenu=function showMenu(id){setIsActive(id);};var filterItems=function filterItems(status){var result=list.filter(function(item){return item.status===status;});setFilteredList(result);};useEffect(function(){document.body.addEventListener('click',function(e){setIsActive('');});},[]);useEffect(function(){localStorage.setItem('list',JSON.stringify(list));},[list]);useEffect(function(){setFilteredList(list);},[list]);return/*#__PURE__*/React.createElement(\"section\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Task Manager\"),/*#__PURE__*/React.createElement(\"p\",{className:\"alert\"},alert.show&&/*#__PURE__*/React.createElement(Alert,Object.assign({},alert,{removeAlert:showAlert,list:list}))),/*#__PURE__*/React.createElement(\"div\",{className:\"task-input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"grocery\",placeholder:\"Add a new task\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"add-btn\",onClick:handleSubmit},isEditing?'Edit':'Submit')),/*#__PURE__*/React.createElement(\"div\",{className:\"controls\"},/*#__PURE__*/React.createElement(Filter,{filterItems:filterItems,setFilteredList:setFilteredList,list:list,setBtnState:setBtnState,btnState:btnState}),/*#__PURE__*/React.createElement(\"button\",{className:\"clear-btn\",onClick:clearList},\"Delete all\")),/*#__PURE__*/React.createElement(\"ul\",{className:\"task-box\"},filteredList.length>0?/*#__PURE__*/React.createElement(List,{items:filteredList,removeItem:removeItem,editItem:editItem,isActive:isActive,showMenu:showMenu,updateStatus:updateStatus,filterItems:filterItems}):/*#__PURE__*/React.createElement(\"div\",{className:\"icon-container\"},/*#__PURE__*/React.createElement(\"span\",null,\"Looks like you don't have any task here\"),/*#__PURE__*/React.createElement(\"img\",{className:\"shrug\",src:shrug,alt:\"shrug\"}))));}export default App;","map":{"version":3,"sources":["/Users/bogdanbilovodskyi/Desktop/programming/frontend/todo-react-project/src/App.js"],"names":["React","useState","useEffect","List","Alert","Filter","shrug","getLocalStorage","list","localStorage","getItem","JSON","parse","App","name","setName","setList","isEditing","setIsEditing","editId","setEditId","show","msg","type","alert","setAlert","isActive","setIsActive","filteredList","setFilteredList","btnState","setBtnState","handleSubmit","e","preventDefault","showAlert","map","item","id","title","newItem","Date","getTime","toString","status","updateStatus","clearList","removeItem","filter","editItem","specificItem","find","showMenu","filterItems","result","document","body","addEventListener","setItem","stringify","target","value","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport List from './List'\nimport Alert from './Alert'\nimport Filter from './Filter'\nimport shrug from './icons/shrug.png'\n\nconst getLocalStorage = () => {\n  let list = localStorage.getItem('list')\n  if(list) {\n    return JSON.parse(localStorage.getItem('list'))\n  } else {\n    return []\n  }\n}\n\nfunction App() {\n  const [name, setName] = useState('')\n  const [list, setList] = useState(getLocalStorage())\n  const [isEditing, setIsEditing] = useState(false)\n  const [editId, setEditId] = useState(null)\n  const [alert, setAlert] = useState({show: false, msg: '', type: ''})\n  const [isActive, setIsActive] = useState('')\n  const [filteredList, setFilteredList] = useState(list)\n  const [btnState, setBtnState] = useState('all')\n\n  \n  const handleSubmit = e => {\n    e.preventDefault()\n    if (!name) {\n      showAlert(true, 'Please enter value', 'red')\n    } else if (name && isEditing) {\n      setList(list.map((item) => {\n        if(item.id === editId) {\n          return {...item, title: name}\n        }\n        return item\n      }))\n      setName('')\n      setEditId(null)\n      setIsEditing(false)\n      showAlert(true, 'Item edited', 'green')\n    } else {\n      showAlert(true, 'New item added', 'green')\n      const newItem = { id: new Date().getTime().toString(), title: name, status: 'pending' }\n      setList([...list, newItem])\n      setName('')\n    }\n  }\n\n  const showAlert = (show=false, msg='', type='') => {\n    setAlert({show, msg, type})\n  }\n\n  const updateStatus = (id) => {\n    setList(list.map((item) => {\n      if(item.id === id && item.status === 'pending') {\n        return {...item, status: 'completed'}\n      } else if (item.id === id && item.status === 'completed') {\n        return {...item, status: 'pending'}\n      }\n      return item\n    }))\n  }\n\n  const clearList = () => {\n     showAlert(true, 'Empty list', 'red')\n     setList([])\n  }\n\n  const removeItem = (id) => {\n    showAlert(true, 'Item removed', 'red')\n    setList(list.filter((item) => item.id !== id)\n  )} \n\n  const editItem = (id) => {\n    const specificItem = list.find((item) => item.id === id)\n    setIsEditing(true)\n    setEditId(id)\n    setName(specificItem.title)\n  }\n\n  const showMenu = (id) => {\n    setIsActive(id)\n  }\n\n  const filterItems = (status) => {\n    const result = list.filter((item) => item.status === status)\n    setFilteredList(result)\n  }\n\n  useEffect(() => {\n    document.body.addEventListener('click', e => {\n      setIsActive('')\n    })\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem('list', JSON.stringify(list))\n  }, [list])\n\n  useEffect(() => {\n    setFilteredList(list)\n  }, [list])\n\n  return (\n  <section className='wrapper'>\n    <h1>Task Manager</h1>\n    <p className='alert'>{alert.show && <Alert {...alert} removeAlert={showAlert} list={list}/>}</p>\n    <div className='task-input'>\n      <input type=\"text\" className='grocery' placeholder='Add a new task' value={name} onChange={(e) => setName(e.target.value)}/>\n      <button type='submit' className='add-btn' onClick={handleSubmit}>\n        {isEditing ? 'Edit' : 'Submit'}\n      </button>\n    </div>\n    <div className=\"controls\">\n      <Filter filterItems={filterItems} setFilteredList={setFilteredList} list={list} setBtnState={setBtnState} btnState={btnState}/>\n        <button className=\"clear-btn\" onClick={clearList}>Delete all</button>\n      </div>\n      <ul className='task-box'>\n      {filteredList.length > 0 ? (\n      <List items={filteredList} removeItem={removeItem} editItem={editItem} isActive={isActive} showMenu={showMenu} updateStatus={updateStatus} filterItems={filterItems}/>\n    ) : <div className=\"icon-container\"><span>Looks like you don't have any task here</span><img className=\"shrug\" src={shrug} alt=\"shrug\"/></div>}\n      </ul>\n  </section>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}